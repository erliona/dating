# ๐ Dating - Telegram Mini App ะดะปั ะทะฝะฐะบะพะผััะฒ

**ะกะพะฒัะตะผะตะฝะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะทะฝะฐะบะพะผััะฒ**, ะฟะพะปะฝะพัััั ะธะฝัะตะณัะธัะพะฒะฐะฝะฝะพะต ะฒ Telegram ะบะฐะบ Mini App ั ะผะธะบัะพัะตัะฒะธัะฝะพะน ะฐััะธัะตะบัััะพะน.

[![Tests](https://github.com/erliona/dating/actions/workflows/test.yml/badge.svg)](https://github.com/erliona/dating/actions/workflows/test.yml)
[![Code Quality](https://github.com/erliona/dating/actions/workflows/lint.yml/badge.svg)](https://github.com/erliona/dating/actions/workflows/lint.yml)
[![Docker Build](https://github.com/erliona/dating/actions/workflows/docker-build.yml/badge.svg)](https://github.com/erliona/dating/actions/workflows/docker-build.yml)
[![Deploy](https://github.com/erliona/dating/actions/workflows/deploy-microservices.yml/badge.svg)](https://github.com/erliona/dating/actions/workflows/deploy-microservices.yml)

---

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะ ะฟัะพะตะบัะต](#ะพ-ะฟัะพะตะบัะต)
- [ะััะธัะตะบัััะฐ](#ะฐััะธัะตะบัััะฐ)
- [ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ](#ัะตัะฝะพะปะพะณะธัะตัะบะธะน-ััะตะบ)
- [ะัััััะน ััะฐัั](#ะฑัััััะน-ััะฐัั)
- [ะฃััะฐะฝะพะฒะบะฐ](#ัััะฐะฝะพะฒะบะฐ)
- [ะะฐะทัะฐะฑะพัะบะฐ](#ัะฐะทัะฐะฑะพัะบะฐ)
- [ะขะตััะธัะพะฒะฐะฝะธะต](#ัะตััะธัะพะฒะฐะฝะธะต)
- [ะะฐะทะฒะตัััะฒะฐะฝะธะต](#ัะฐะทะฒะตัััะฒะฐะฝะธะต)
- [ะะพะฝะธัะพัะธะฝะณ](#ะผะพะฝะธัะพัะธะฝะณ)
- [API](#api)
- [ะะพะบัะผะตะฝัะฐัะธั](#ะดะพะบัะผะตะฝัะฐัะธั)

---

## ๐ฏ ะ ะฟัะพะตะบัะต

Dating - ััะพ ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะทะฝะฐะบะพะผััะฒ, ัะฐะฑะพัะฐััะตะต ะบะฐะบ Telegram Mini App. ะะพะปัะทะพะฒะฐัะตะปะธ ะผะพะณัั ัะพะทะดะฐะฒะฐัั ะฟัะพัะธะปะธ, ะธัะบะฐัั ะฟะฐััะฝะตัะพะฒ, ะพะฑัะฐัััั ะธ ะฒัััะตัะฐัััั.

### ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

- **ะัะพัะธะปะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน** - ัะพะทะดะฐะฝะธะต, ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต, ัะพัะพ
- **ะะพะธัะบ ะธ ะผะฐััะธะฝะณ** - ะฐะปะณะพัะธัะผ ะฟะพะดะฑะพัะฐ ัะพะฒะผะตััะธะผัั ะฟะฐััะฝะตัะพะฒ
- **ะงะฐั** - ะพะฑัะตะฝะธะต ะผะตะถะดั ัะพะฒะฟะฐะฒัะธะผะธ ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- **ะะดะผะธะฝะธัััะฐัะธะฒะฝะฐั ะฟะฐะฝะตะปั** - ะผะพะดะตัะฐัะธั ะธ ัะฟัะฐะฒะปะตะฝะธะต
- **ะะพะฝะธัะพัะธะฝะณ** - ะฟะพะปะฝะฐั ัะธััะตะผะฐ ะฝะฐะฑะปัะดะตะฝะธั ะทะฐ ัะธััะตะผะพะน

### ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ

- ๐๏ธ **8 ะผะธะบัะพัะตัะฒะธัะพะฒ** - ะผะฐัััะฐะฑะธััะตะผะฐั ะฐััะธัะตะบัััะฐ
- ๐ณ **Docker** - ะฟะพะปะฝะฐั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- ๐ **JWT ะฐััะตะฝัะธัะธะบะฐัะธั** - ะฑะตะทะพะฟะฐัะฝะพััั
- ๐ **ะะพะฝะธัะพัะธะฝะณ** - Prometheus, Grafana, Loki
- ๐งช **18 ัะตััะพะฒัั ัะฐะนะปะพะฒ** - ~3,600 ัััะพะบ ัะตััะพะฒ
- ๐ **CI/CD** - ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝัะน pipeline

---

## ๐๏ธ ะััะธัะตะบัััะฐ

### ะะธะบัะพัะตัะฒะธัั

```
โโโโโโโโโโโโโโโโโโโ
โ  Telegram Bot   โ โ ะะพะผะฐะฝะดั ะธ ัะฒะตะดะพะผะปะตะฝะธั
โโโโโโโโโโฌโโโโโโโโโ
         โ
โโโโโโโโโโผโโโโโโโโโ        โโโโโโโโโโโโโโโโโโโ
โ Notification    โโโโโโโโโโ  Telegram       โ
โ Service (8087)  โ        โ  WebApp         โ โ ะัะฝะพะฒะฝะพะน ะธะฝัะตััะตะนั
โโโโโโโโโโฌโโโโโโโโโ        โโโโโโโโโโฌโโโโโโโโโ
         โ                          โ
โโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโ
โ           API Gateway (8080)                โ โ ะะดะธะฝะฐั ัะพัะบะฐ ะฒัะพะดะฐ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
         โ
    โโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ    ะะธะบัะพัะตัะฒะธัั               โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
    โ โข Auth Service      (8081)    โ โ JWT ัะพะบะตะฝั
    โ โข Profile Service   (8082)    โ โ ะัะพัะธะปะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
    โ โข Discovery Service (8083)    โ โ ะะพะธัะบ ะธ ะผะฐััะธะฝะณ
    โ โข Media Service     (8084)    โ โ ะคะพัะพ ะธ ัะฐะนะปั
    โ โข Chat Service      (8085)    โ โ ะกะพะพะฑัะตะฝะธั
    โ โข Admin Service     (8086)    โ โ ะะดะผะธะฝ ะฟะฐะฝะตะปั
    โ โข Notification Svc  (8087)    โ โ Push ัะฒะตะดะพะผะปะตะฝะธั
    โ โข Data Service      (8088)    โ โ ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝัะน ะดะพัััะฟ ะบ ะะ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
              โ
    โโโโโโโโโโโผโโโโโโโโโโโ
    โ   PostgreSQL DB    โ โ ะะฐะทะฐ ะดะฐะฝะฝัั
    โโโโโโโโโโโโโโโโโโโโโโ
```

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
dating/
โโโ bot/                  # Telegram Bot
โ   โโโ main.py          # ะขะพัะบะฐ ะฒัะพะดะฐ ะฑะพัะฐ
โ   โโโ config.py        # ะะพะฝัะธะณััะฐัะธั
โ   โโโ db.py            # ะะพะดะตะปะธ ะะ
โ   โโโ repository.py    # ะะพัััะฟ ะบ ะดะฐะฝะฝัะผ
โ   โโโ cache.py         # ะััะธัะพะฒะฐะฝะธะต
โ
โโโ core/                # ะะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั
โ   โโโ middleware/      # Middleware
โ   โ   โโโ jwt_middleware.py      # JWT ะฐััะตะฝัะธัะธะบะฐัะธั
โ   โ   โโโ metrics_middleware.py  # Prometheus ะผะตััะธะบะธ
โ   โ   โโโ request_logging.py    # ะะพะณะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ
โ   โโโ utils/           # ะฃัะธะปะธัั
โ       โโโ logging.py   # ะะฐัััะพะนะบะฐ ะปะพะณะธัะพะฒะฐะฝะธั
โ       โโโ security.py  # ะะตะทะพะฟะฐัะฝะพััั
โ       โโโ validation.py # ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั
โ
โโโ services/            # ะะธะบัะพัะตัะฒะธัั (8 ัััะบ)
โ   โโโ auth/           # ะััะตะฝัะธัะธะบะฐัะธั (8081)
โ   โโโ profile/        # ะัะพัะธะปะธ (8082)
โ   โโโ discovery/      # ะะพะธัะบ (8083)
โ   โโโ media/          # ะะตะดะธะฐ (8084)
โ   โโโ chat/           # ะงะฐั (8085)
โ   โโโ admin/          # ะะดะผะธะฝะบะฐ (8086)
โ   โโโ notification/   # ะฃะฒะตะดะพะผะปะตะฝะธั (8087)
โ   โโโ data/           # ะะฐะฝะฝัะต (8088)
โ
โโโ gateway/             # API Gateway
โ   โโโ main.py         # ะะฐัััััะธะทะฐัะธั
โ
โโโ webapp/              # Frontend (HTML/CSS/JS)
โ   โโโ index.html      # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โ   โโโ admin.html      # ะะดะผะธะฝ ะฟะฐะฝะตะปั
โ   โโโ css/            # ะกัะธะปะธ
โ   โโโ js/             # JavaScript
โ   โโโ nginx.conf      # ะะพะฝัะธะณััะฐัะธั Nginx
โ
โ   โโโ src/            # React ะบะพะผะฟะพะฝะตะฝัั
โ   โโโ package.json    # Next.js 15.5.4, React 19
โ   โโโ ...
โ
โโโ tests/               # ะขะตััั (18 ัะฐะนะปะพะฒ)
โ   โโโ unit/           # Unit ัะตััั
โ   โโโ integration/    # Integration ัะตััั
โ   โโโ e2e/            # End-to-end ัะตััั
โ
โโโ monitoring/          # ะะพะฝะธัะพัะธะฝะณ
โ   โโโ grafana/        # ะะฐัะฑะพัะดั Grafana
โ   โโโ prometheus/     # ะะพะฝัะธะณััะฐัะธั Prometheus
โ   โโโ loki/           # ะะพะฝัะธะณััะฐัะธั Loki
โ   โโโ promtail/       # ะะพะฝัะธะณััะฐัะธั Promtail
โ
โโโ migrations/          # ะะธะณัะฐัะธะธ ะะ (Alembic)
โโโ scripts/             # ะกะบัะธะฟัั ัะฐะทะฒะตัััะฒะฐะฝะธั
โโโ docker-compose.yml   # ะัะบะตัััะฐัะธั ะบะพะฝัะตะนะฝะตัะพะฒ
```

---

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend

- **Python 3.11+** - ะพัะฝะพะฒะฝะพะน ัะทัะบ
- **aiogram 3.3** - Telegram Bot Framework
- **SQLAlchemy 2.0+** - ORM
- **asyncpg 0.29+** - PostgreSQL ะดัะฐะนะฒะตั
- **aiohttp 3.9+** - HTTP ัะตัะฒะตั ะดะปั ะผะธะบัะพัะตัะฒะธัะพะฒ
- **Alembic 1.13+** - ะผะธะณัะฐัะธะธ ะะ
- **PyJWT 2.8+** - JWT ัะพะบะตะฝั
- **bcrypt 4.0+** - ัะตัะธัะพะฒะฐะฝะธะต ะฟะฐัะพะปะตะน
- **prometheus-client 0.19+** - ะผะตััะธะบะธ

### Frontend

**ะัะฝะพะฒะฝะพะน (webapp/):**
- **HTML/CSS/JavaScript** - vanilla
- **Nginx** - ะฒะตะฑ-ัะตัะฒะตั
- **Telegram WebApp SDK** - ะธะฝัะตะณัะฐัะธั ั Telegram


### ะะฝััะฐััััะบัััะฐ

- **Docker & Docker Compose** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั
- **PostgreSQL 15** - ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Traefik 2.11** - reverse proxy
- **Let's Encrypt** - SSL ัะตััะธัะธะบะฐัั

### ะะพะฝะธัะพัะธะฝะณ

- **Prometheus 2.51** - ัะฑะพั ะผะตััะธะบ
- **Grafana 10.4** - ะฒะธะทัะฐะปะธะทะฐัะธั
- **Loki 3.0** - ัะฑะพั ะปะพะณะพะฒ
- **cAdvisor** - ะผะตััะธะบะธ ะบะพะฝัะตะนะฝะตัะพะฒ
- **Node Exporter** - ัะธััะตะผะฝัะต ะผะตััะธะบะธ

---

## ๐ ะัััััะน ััะฐัั

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker 20.10+
- Docker Compose v2.0+
- Telegram Bot Token

### ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

```bash
# 1. ะะปะพะฝะธัะพะฒะฐัั ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/erliona/dating.git
cd dating

# 2. ะะฐัััะพะธัั ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
cp .env.example .env
nano .env  # ะััะตะดะฐะบัะธัะพะฒะฐัั BOT_TOKEN

# 3. ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
docker compose up -d

# 4. ะัะพะฒะตัะธัั ััะฐััั
docker compose ps

# 5. ะัะพะฒะตัะธัั health endpoints
curl http://localhost:8080/health  # API Gateway
curl http://localhost:8081/health  # Auth Service
curl http://localhost:8082/health  # Profile Service
# ... ะธ ัะฐะบ ะดะฐะปะตะต ะดะปั ะฒัะตั ัะตัะฒะธัะพะฒ
```

### ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

**Telegram Mini App:**
1. ะัะบัะพะนัะต Telegram
2. ะะฐะนะดะธัะต ัะฒะพะตะณะพ ะฑะพัะฐ
3. ะัะฟัะฐะฒััะต `/start`
4. ะะฐะถะผะธัะต "๐ ะัะบัััั Mini App"

**ะะดะผะธะฝะธัััะฐัะธะฒะฝะฐั ะฟะฐะฝะตะปั:**
1. ะัะบัะพะนัะต http://localhost:8086/admin-panel/index.html
2. ะะพะนะดะธัะต: `admin` / `admin123`

---

## โ๏ธ ะฃััะฐะฝะพะฒะบะฐ

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

#### ะะฑัะทะฐัะตะปัะฝัะต

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะัะธะผะตั |
|------------|----------|--------|
| `BOT_TOKEN` | ะขะพะบะตะฝ ะฑะพัะฐ ะพั @BotFather | `123456789:ABCdef...` |
| `POSTGRES_DB` | ะะผั ะะ | `dating` |
| `POSTGRES_USER` | ะะพะปัะทะพะฒะฐัะตะปั ะะ | `dating` |
| `POSTGRES_PASSWORD` | ะะฐัะพะปั ะะ | `SecurePass123` |

#### ะะฟัะธะพะฝะฐะปัะฝัะต

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `JWT_SECRET` | ะกะตะบัะตั ะดะปั JWT | ะะตะฝะตัะธััะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ |
| `DOMAIN` | ะะพะผะตะฝ ะดะปั HTTPS | `localhost` |
| `ACME_EMAIL` | Email ะดะปั Let's Encrypt | `admin@example.com` |

#### ะะพััั ัะตัะฒะธัะพะฒ

| ะะตัะตะผะตะฝะฝะฐั | ะกะตัะฒะธั | ะะพัั |
|------------|--------|------|
| `GATEWAY_PORT` | API Gateway | 8080 |
| `AUTH_SERVICE_PORT` | Auth Service | 8081 |
| `PROFILE_SERVICE_PORT` | Profile Service | 8082 |
| `DISCOVERY_SERVICE_PORT` | Discovery Service | 8083 |
| `MEDIA_SERVICE_PORT` | Media Service | 8084 |
| `CHAT_SERVICE_PORT` | Chat Service | 8085 |
| `ADMIN_SERVICE_PORT` | Admin Service | 8086 |
| `NOTIFICATION_SERVICE_PORT` | Notification Service | 8087 |
| `DATA_SERVICE_PORT` | Data Service | 8088 |

---

## ๐ป ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

```bash
# ะกะพะทะดะฐัั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
python3 -m venv venv
source venv/bin/activate

# ะฃััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt
pip install -r requirements-dev.txt

# ะะฐะฟัััะธัั ะฑะฐะทั ะดะฐะฝะฝัั
docker compose up -d db

# ะัะธะผะตะฝะธัั ะผะธะณัะฐัะธะธ
alembic upgrade head

# ะะฐะฟัััะธัั ะพัะดะตะปัะฝัะต ัะตัะฒะธัั
python -m services.auth.main
python -m services.profile.main
```

### ะกัััะบัััะฐ ะบะพะดะฐ

**Core (ะะฑัะธะต ะบะพะผะฟะพะฝะตะฝัั):**
- `core/middleware/` - JWT, ะผะตััะธะบะธ, ะปะพะณะธัะพะฒะฐะฝะธะต
- `core/utils/` - ััะธะปะธัั, ะฑะตะทะพะฟะฐัะฝะพััั, ะฒะฐะปะธะดะฐัะธั

**Services (ะะธะบัะพัะตัะฒะธัั):**
- ะะฐะถะดัะน ัะตัะฒะธั ะฝะตะทะฐะฒะธัะธะผ ะธ ะธะผะตะตั ัะฒะพะน ะฟะพัั
- ะัะต ัะตัะฒะธัั ะธัะฟะพะปัะทััั ะพะฑัะธะต middleware
- Data Service - ัะตะฝััะฐะปะธะทะพะฒะฐะฝะฝัะน ะดะพัััะฟ ะบ ะะ

**Gateway:**
- ะะดะธะฝะฐั ัะพัะบะฐ ะฒัะพะดะฐ ะดะปั ะฒัะตั ะทะฐะฟัะพัะพะฒ
- ะะฐัััััะธะทะฐัะธั ะฟะพ ะฟัะตัะธะบัะฐะผ

---

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะกัะฐัะธััะธะบะฐ ัะตััะพะฒ

- **18 ัะตััะพะฒัั ัะฐะนะปะพะฒ**
- **~3,600 ัััะพะบ ะบะพะดะฐ ัะตััะพะฒ**
- **Unit, Integration, E2E ัะตััั**

### ะะฐะฟััะบ ัะตััะพะฒ

```bash
# ะัะต ัะตััั
pytest -v

# ะะพ ัะธะฟะฐะผ
pytest tests/unit/ -v          # Unit tests
pytest tests/integration/ -v   # Integration tests
pytest tests/e2e/ -v          # E2E tests

# ะก ะฟะพะบัััะธะตะผ
pytest --cov=bot --cov=core --cov=services --cov-report=html
```

### ะกัััะบัััะฐ ัะตััะพะฒ

```
tests/
โโโ unit/                  # Unit tests
โ   โโโ test_config.py
โ   โโโ test_utils.py
โ   โโโ test_*_timezone.py
โโโ integration/           # Integration tests
โ   โโโ test_api.py
โ   โโโ test_repository.py
โ   โโโ test_monitoring_config.py
โโโ e2e/                   # End-to-end tests
    โโโ test_main.py
    โโโ test_admin.py
    โโโ test_discovery.py
    โโโ test_gateway.py
    โโโ test_user_flows.py
    โโโ test_orientation_filtering.py
```

---

## ๐ข ะะฐะทะฒะตัััะฒะฐะฝะธะต

### CI/CD Pipeline

**GitHub Actions workflows:**
- `test.yml` - ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะตััะธัะพะฒะฐะฝะธะต
- `lint.yml` - ะฟัะพะฒะตัะบะฐ ะบะฐัะตััะฒะฐ ะบะพะดะฐ
- `docker-build.yml` - ัะฑะพัะบะฐ Docker ะพะฑัะฐะทะพะฒ
- `deploy-microservices.yml` - ะดะตะฟะปะพะน ะฝะฐ ัะตัะฒะตั

### Production ัะฐะทะฒะตัััะฒะฐะฝะธะต

#### 1. ะะฐัััะพะนะบะฐ GitHub Secrets

**ะะฑัะทะฐัะตะปัะฝัะต ัะตะบัะตัั:**
- `DEPLOY_HOST` - IP ัะตัะฒะตัะฐ
- `DEPLOY_USER` - SSH ะฟะพะปัะทะพะฒะฐัะตะปั
- `DEPLOY_SSH_KEY` - ะฟัะธะฒะฐัะฝัะน SSH ะบะปัั
- `BOT_TOKEN` - ัะพะบะตะฝ Telegram ะฑะพัะฐ
- `JWT_SECRET` - ัะตะบัะตั ะดะปั JWT
- `POSTGRES_PASSWORD` - ะฟะฐัะพะปั ะะ

**ะะฟัะธะพะฝะฐะปัะฝัะต:**
- `DOMAIN` - ะดะพะผะตะฝ ะดะปั HTTPS
- `ACME_EMAIL` - email ะดะปั Let's Encrypt

#### 2. ะะฒัะพะผะฐัะธัะตัะบะธะน ะดะตะฟะปะพะน

```bash
# Push ะฒ main ะฒะตัะบั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟัััะธั ะดะตะฟะปะพะน
git push origin main
```

#### 3. ะััะฝะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต

```bash
# ะะฐ ัะตัะฒะตัะต
git clone https://github.com/erliona/dating.git
cd dating

# ะะฐัััะพะธัั .env
cp .env.example .env
nano .env

# ะะฐะฟัััะธัั
docker compose up -d

# ะัะพะฒะตัะธัั
docker compose ps
curl http://localhost:8080/health
```

### HTTPS ะธ SSL

HTTPS ะฝะฐัััะฐะธะฒะฐะตััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะตัะตะท Traefik:

1. ะฃะบะฐะถะธัะต `DOMAIN` ะฒ `.env`
2. ะฃะบะฐะถะธัะต `ACME_EMAIL` ะฒ `.env`
3. ะะฐะฟัััะธัะต: `docker compose up -d`
4. Traefik ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะปััะธั SSL ัะตััะธัะธะบะฐั

---

## ๐ ะะพะฝะธัะพัะธะฝะณ

### ะะพัััะฟ ะบ ะผะพะฝะธัะพัะธะฝะณั

**Production (dating.serge.cc):**
- **Grafana**: http://dating.serge.cc:3000
- **Prometheus**: http://dating.serge.cc:9090
- **Webapp**: http://dating.serge.cc
- **Admin Panel**: http://dating.serge.cc/admin

**ะะพัััะฟ ะบ Grafana:**
- ะะพะปัะทะพะฒะฐัะตะปั: `admin`
- ะะฐัะพะปั: `admin`

### ะะฐัะฑะพัะดั Grafana

1. **Infrastructure Overview** - ะพะฑัะตะต ัะพััะพัะฝะธะต ัะธััะตะผั
2. **System Health** - ะทะดะพัะพะฒัะต ัะตัะฒะธัะพะฒ
3. **Application Services** - ะผะตััะธะบะธ ะฟัะธะปะพะถะตะฝะธะน
4. **Business Metrics** - ะฑะธะทะฝะตั-ะผะตััะธะบะธ (ะฟะพะปัะทะพะฒะฐัะตะปะธ, ะผะฐััะธ)
5. **API Performance** - ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั API
6. **Application Logs** - ะปะพะณะธ ะฟัะธะปะพะถะตะฝะธะน
7. **Database Infrastructure** - ะผะตััะธะบะธ ะะ
8. **Database Metrics** - ะดะตัะฐะปัะฝัะต ะผะตััะธะบะธ PostgreSQL
9. **Security & Authentication** - ะฑะตะทะพะฟะฐัะฝะพััั

### ะงัะพ ะพััะปะตะถะธะฒะฐะตััั

**ะะตััะธะบะธ (Prometheus):**
- HTTP ะทะฐะฟัะพัั ะฟะพ ัะตัะฒะธัะฐะผ
- ะัะตะผั ะพัะฒะตัะฐ
- ะกัะฐััั ะบะพะดั
- ะะธะทะฝะตั-ะผะตััะธะบะธ (users_total, matches_total, messages_total)
- ะกะธััะตะผะฝัะต ะผะตััะธะบะธ (CPU, ะฟะฐะผััั, ะดะธัะบ)
- ะะตััะธะบะธ PostgreSQL

**ะะพะณะธ (Loki):**
- ะัะต ะปะพะณะธ ะฒัะตั ัะตัะฒะธัะพะฒ
- JSON ััััะบัััะธัะพะฒะฐะฝะฝัะต ะปะพะณะธ
- ะคะธะปัััะฐัะธั ะฟะพ ััะพะฒะฝั, ัะตัะฒะธัั
- ะะพะธัะบ ะฟะพ ัะพะฑััะธัะผ

---

## ๐ก API

### API Gateway (ะฟะพัั 8080)

ะะดะธะฝะฐั ัะพัะบะฐ ะฒัะพะดะฐ ะดะปั ะฒัะตั ะทะฐะฟัะพัะพะฒ.

**ะะฐัััััะธะทะฐัะธั:**
- `/auth/*` โ Auth Service (8081)
- `/profiles/*` โ Profile Service (8082)
- `/discovery/*` โ Discovery Service (8083)
- `/media/*` โ Media Service (8084)
- `/chat/*` โ Chat Service (8085)
- `/admin/*` โ Admin Service (8086)
- `/data/*` โ Data Service (8088)

### ะัะฝะพะฒะฝัะต endpoints

#### Auth Service (8081)
```http
POST /auth/validate    # ะะฐะปะธะดะฐัะธั Telegram ะดะฐะฝะฝัั
GET /auth/verify       # ะัะพะฒะตัะบะฐ JWT ัะพะบะตะฝะฐ
POST /auth/refresh     # ะะฑะฝะพะฒะปะตะฝะธะต ัะพะบะตะฝะฐ
GET /auth/test_token   # ะขะตััะพะฒัะน ัะพะบะตะฝ (dev)
```

#### Profile Service (8082)
```http
GET /profiles/{user_id}     # ะะพะปััะธัั ะฟัะพัะธะปั
POST /profiles/             # ะกะพะทะดะฐัั ะฟัะพัะธะปั
PUT /profiles/{user_id}     # ะะฑะฝะพะฒะธัั ะฟัะพัะธะปั
POST /sync-metrics          # ะกะธะฝััะพะฝะธะทะฐัะธั ะผะตััะธะบ
```

#### Data Service (8088)
```http
GET /data/profiles/{user_id}    # ะะพะปััะธัั ะฟัะพัะธะปั
POST /data/profiles             # ะกะพะทะดะฐัั ะฟัะพัะธะปั
PUT /data/profiles/{user_id}    # ะะฑะฝะพะฒะธัั ะฟัะพัะธะปั
GET /data/profiles-count        # ะะพะปะธัะตััะฒะพ ะฟัะพัะธะปะตะน
```

### ะะพะดั ะพัะฒะตัะพะฒ

| ะะพะด | ะะฟะธัะฐะฝะธะต |
|-----|----------|
| 200 | OK |
| 201 | Created |
| 400 | Bad Request |
| 401 | Unauthorized |
| 403 | Forbidden |
| 404 | Not Found |
| 422 | Unprocessable Entity |
| 429 | Too Many Requests |
| 500 | Internal Server Error |

---

## ๐ ะะพะบัะผะตะฝัะฐัะธั

### ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

- **[docs/ARCHITECTURE.md](docs/ARCHITECTURE.md)** - ะััะธัะตะบัััะฐ ัะธััะตะผั
- **[docs/API_DOCUMENTATION.md](docs/API_DOCUMENTATION.md)** - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั API
- **[docs/DEVELOPMENT_GUIDE.md](docs/DEVELOPMENT_GUIDE.md)** - ะัะบะพะฒะพะดััะฒะพ ัะฐะทัะฐะฑะพััะธะบะฐ
- **[docs/CI_CD_GUIDE.md](docs/CI_CD_GUIDE.md)** - CI/CD pipeline
- **[docs/DEPLOYMENT_GUIDE.md](docs/DEPLOYMENT_GUIDE.md)** - ะะฐะทะฒะตัััะฒะฐะฝะธะต

### ะกะฟะตัะธัะธัะฝัะต ัะตะผั

- **[services/admin/README.md](services/admin/README.md)** - Admin Service
- **[tests/README.md](tests/README.md)** - ะขะตััะธัะพะฒะฐะฝะธะต
- **[scripts/README.md](scripts/README.md)** - ะกะบัะธะฟัั

---

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

### ะัะพัะตัั ะบะพะฝััะธะฑััะธะธ

1. **Fork** ัะตะฟะพะทะธัะพัะธั
2. **ะะปะพะฝะธััะนัะต** ะฒะฐั fork
3. **ะกะพะทะดะฐะนัะต ะฒะตัะบั** ะดะปั ัะธัะธ
4. **ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั** ะธ ะดะพะฑะฐะฒััะต ัะตััั
5. **ะัะพะฒะตัััะต**, ััะพ ัะตััั ะฟัะพัะพะดัั
6. **Commit** ั ะฟะพะฝััะฝัะผ ัะพะพะฑัะตะฝะธะตะผ
7. **Push** ะฒ ะฒะฐัั ะฒะตัะบั
8. **ะัะบัะพะนัะต Pull Request**

### ะะฐะนะดะปะฐะนะฝั

**ะะพะด:**
- ะกะปะตะดัะนัะต PEP 8
- ะะธัะธัะต docstrings
- ะะพะฑะฐะฒะปัะนัะต type hints
- ะะพะบััะฒะฐะนัะต ะบะพะด ัะตััะฐะผะธ

**Commits:**
- ะัะฟะพะปัะทัะนัะต ะฟะพะฝััะฝัะต ัะพะพะฑัะตะฝะธั
- ะะดะธะฝ commit = ะพะดะฝะฐ ะปะพะณะธัะตัะบะฐั ะตะดะธะฝะธัะฐ

---

## ๐ ะะธัะตะฝะทะธั

ะญัะพั ะฟัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน **MIT**.

---

## ๐ ะะพะดะดะตัะถะบะฐ

**ะะพะปััะธัั ะฟะพะผะพัั:**
- ๐ [GitHub Issues](https://github.com/erliona/dating/issues)
- ๐ฌ [GitHub Discussions](https://github.com/erliona/dating/discussions)

**ะััะตั ะพ ััะทะฒะธะผะพัััั:**
- ะะต ัะพะทะดะฐะฒะฐะนัะต ะฟัะฑะปะธัะฝัะต issues
- ะะฐะฟะธัะธัะต ะฝะฐ security@example.com

---

## ๐ ะกัะฐัะธััะธะบะฐ ะฟัะพะตะบัะฐ

- **ะฏะทัะบ**: Python 3.11+
- **ะััะธัะตะบัััะฐ**: 8 ะผะธะบัะพัะตัะฒะธัะพะฒ
- **ะขะตััั**: 18 ัะฐะนะปะพะฒ, ~3,600 ัััะพะบ
- **Frontend**: HTML/CSS/JS
- **ะะพะฝะธัะพัะธะฝะณ**: Prometheus + Grafana + Loki
- **CI/CD**: 4 GitHub Actions workflows

---

**ะกะดะตะปะฐะฝะพ ั โค๏ธ ะดะปั ัะพะพะฑัะตััะฒะฐ**

*ะัะปะธ ะฟัะพะตะบั ะพะบะฐะทะฐะปัั ะฟะพะปะตะทะฝัะผ, ะฟะพััะฐะฒััะต โญ ะฝะฐ GitHub!*

---

**ะะตััะธั ะดะพะบัะผะตะฝัะฐัะธะธ:** 3.1  
**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 2025-10-23  
**ะะฒัะพั:** erliona