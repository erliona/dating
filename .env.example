# Dating Platform Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Application Environment (development|production)
ENVIRONMENT=development

# Application Domain
DOMAIN=localhost

# =============================================================================
# TELEGRAM BOT CONFIGURATION
# =============================================================================

# Telegram Bot Token (from @BotFather)
BOT_TOKEN=your_bot_token_here

# Telegram WebApp Secret Token (for security)
TELEGRAM_BOT_SECRET_TOKEN=your_webapp_secret_token_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_USER=dating
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=dating
DATABASE_URL=postgresql+asyncpg://dating:your_secure_password_here@db:5432/dating

# Database Migration Control (only one service should have this=true)
RUN_DB_MIGRATIONS=true

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# JWT Secret Key (generate a secure random string)
JWT_SECRET=your_jwt_secret_key_here

# JWT Token Expiration (in minutes)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# SERVICE PORTS
# =============================================================================

# API Gateway
HTTP_PORT=80
HTTPS_PORT=443
TRAEFIK_DASHBOARD_PORT=8091

# Service Ports
AUTH_SERVICE_PORT=8081
PROFILE_SERVICE_PORT=8082
DISCOVERY_SERVICE_PORT=8083
MEDIA_SERVICE_PORT=8084
CHAT_SERVICE_PORT=8085
ADMIN_SERVICE_PORT=8086
NOTIFICATION_SERVICE_PORT=8087
DATA_SERVICE_PORT=8088

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Nominatim Geocoding Service
NOMINATIM_URL=http://nominatim:8080

# MinIO S3 Storage
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=your_minio_password_here
PHOTO_STORAGE_PATH=/app/photos

# RabbitMQ Message Queue
RABBITMQ_DEFAULT_USER=rabbitmq
RABBITMQ_DEFAULT_PASS=your_rabbitmq_password_here

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Admin Panel
ADMIN_PASSWORD=your_admin_password_here

# CORS Origins (comma-separated)
CORS_ORIGINS=https://web.telegram.org,https://dating.serge.cc

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# Let's Encrypt Email
ACME_EMAIL=admin@dating.serge.cc

# =============================================================================
# MONITORING (Production Only)
# =============================================================================

# Prometheus
PROMETHEUS_RETENTION_TIME=15d

# Grafana
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# Loki
LOKI_RETENTION_PERIOD=168h

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug Mode (set to false in production)
DEBUG=true

# Log Level (DEBUG|INFO|WARNING|ERROR|CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Database Connection Pool Size
DB_POOL_SIZE=20

# Request Timeout (seconds)
REQUEST_TIMEOUT=30

# File Upload Limits
MAX_FILE_SIZE=10485760  # 10MB
MAX_PHOTOS_PER_USER=3

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable NSFW Detection
ENABLE_NSFW_DETECTION=true

# Enable Push Notifications
ENABLE_PUSH_NOTIFICATIONS=true

# Enable Admin Moderation
ENABLE_ADMIN_MODERATION=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# Auth endpoints: 10 requests/second
# Media endpoints: 20 requests/second  
# Other endpoints: 50 requests/second
RATE_LIMIT_AUTH=10
RATE_LIMIT_MEDIA=20
RATE_LIMIT_DEFAULT=50
