<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
    <meta name="theme-color" content="#2563eb" />
    <meta name="description" content="Telegram –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <title>Dating WebApp</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="nav-bar" id="nav-bar" style="display: none;">
      <button class="nav-item" data-page="profile">
        <span class="nav-icon">üë§</span>
        <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </button>
      <button class="nav-item" data-page="matches">
        <span class="nav-icon">üíï</span>
        <span class="nav-label">–ú–µ—Ç—á–∏</span>
      </button>
      <button class="nav-item" data-page="settings">
        <span class="nav-icon">‚öôÔ∏è</span>
        <span class="nav-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
      </button>
    </nav>

    <main class="container">
      <!-- Onboarding Page -->
      <div id="onboarding-page" class="page" style="display: none;">
        <div class="onboarding">
          <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üëã</h1>
          
          <!-- Onboarding Step 1: Introduction -->
          <div id="onboarding-intro" class="onboarding-content" style="display: block;">
            <div class="onboarding-steps">
              <div class="onboarding-step">
                <span class="step-icon">üíï</span>
                <h3>–ù–∞–π–¥–∏ –≤—Ç–æ—Ä—É—é –ø–æ–ª–æ–≤–∏–Ω–∫—É</h3>
                <p>–ü–æ–∑–Ω–∞–∫–æ–º—å—Å—è —Å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –ª—é–¥—å–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä—è–¥–æ–º</p>
              </div>
              <div class="onboarding-step">
                <span class="step-icon">‚ú®</span>
                <h3>–°–æ–∑–¥–∞–π –∞–Ω–∫–µ—Ç—É</h3>
                <p>–†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ, —Å–≤–æ–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∏ —Ü–µ–ª—è—Ö</p>
              </div>
              <div class="onboarding-step">
                <span class="step-icon">üéØ</span>
                <h3>–ü–æ–ª—É—á–∞–π –º–µ—Ç—á–∏</h3>
                <p>–ú—ã –ø–æ–¥–±–µ—Ä–µ–º —Ç–µ–±–µ –ª—é–¥–µ–π —Å –æ–±—â–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏</p>
              </div>
            </div>
            <button class="primary onboarding-btn" id="start-onboarding">–ù–∞—á–∞—Ç—å</button>
          </div>

          <!-- Onboarding Step 2: Basic Info -->
          <div id="onboarding-basic" class="onboarding-content" style="display: none;">
            <div class="onboarding-progress">
              <div class="onboarding-progress-bar">
                <div class="onboarding-progress-fill" style="width: 25%;"></div>
              </div>
              <p class="onboarding-progress-text">–®–∞–≥ 1 –∏–∑ 4</p>
            </div>
            <h2>–†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ</h2>
            <p class="hint">–ù–∞—á–Ω–µ–º —Å –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</p>
            
            <div class="onboarding-form-preview">
              <span class="preview-icon">üë§</span>
            </div>
            
            <ul class="onboarding-checklist">
              <li>‚úì –ò–º—è –∏ –≤–æ–∑—Ä–∞—Å—Ç</li>
              <li>‚úì –ü–æ–ª –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è</li>
            </ul>
            
            <button class="primary onboarding-btn" id="continue-to-basic">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
          </div>

          <!-- Onboarding Step 3: Photo -->
          <div id="onboarding-photo" class="onboarding-content" style="display: none;">
            <div class="onboarding-progress">
              <div class="onboarding-progress-bar">
                <div class="onboarding-progress-fill" style="width: 50%;"></div>
              </div>
              <p class="onboarding-progress-text">–®–∞–≥ 2 –∏–∑ 4</p>
            </div>
            <h2>–î–æ–±–∞–≤—å —Ñ–æ—Ç–æ</h2>
            <p class="hint">–ê–Ω–∫–µ—Ç—ã —Å —Ñ–æ—Ç–æ –ø–æ–ª—É—á–∞—é—Ç –≤ 5 —Ä–∞–∑ –±–æ–ª—å—à–µ –æ—Ç–∫–ª–∏–∫–æ–≤</p>
            
            <div class="photo-upload-section">
              <div id="photo-preview" class="photo-preview">
                <span class="photo-placeholder-icon">üì∑</span>
                <p>–ó–∞–≥—Ä—É–∑–∏ —Å–≤–æ–µ —Ñ–æ—Ç–æ</p>
              </div>
              <input type="file" id="photo-file-input" accept="image/*" style="display: none;" />
              <button class="secondary" id="upload-photo-btn">–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ</button>
              <p class="photo-hint">–ò–ª–∏ –≤—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–æ—Ç–æ:</p>
              <input 
                type="url" 
                id="photo-url-input" 
                placeholder="https://example.com/photo.jpg" 
                class="photo-url-field"
              />
            </div>
            
            <div class="onboarding-buttons">
              <button class="secondary onboarding-btn" id="skip-photo">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
              <button class="primary onboarding-btn" id="continue-to-about">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
          </div>

          <!-- Onboarding Step 4: About -->
          <div id="onboarding-about" class="onboarding-content" style="display: none;">
            <div class="onboarding-progress">
              <div class="onboarding-progress-bar">
                <div class="onboarding-progress-fill" style="width: 75%;"></div>
              </div>
              <p class="onboarding-progress-text">–®–∞–≥ 3 –∏–∑ 4</p>
            </div>
            <h2>–†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ</h2>
            <p class="hint">–ü–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ª—é–¥–µ–π —Å –æ–±—â–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏</p>
            
            <ul class="onboarding-checklist">
              <li>‚úì –¢–≤–æ–∏ —É–≤–ª–µ—á–µ–Ω–∏—è –∏ —Ö–æ–±–±–∏</li>
              <li>‚úì –ì–¥–µ —Ç—ã –∂–∏–≤–µ—à—å</li>
              <li>‚úì –ß—Ç–æ –∏—â–µ—à—å</li>
            </ul>
            
            <button class="primary onboarding-btn" id="continue-to-finish">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
          </div>

          <!-- Onboarding Step 5: Final -->
          <div id="onboarding-final" class="onboarding-content" style="display: none;">
            <div class="onboarding-progress">
              <div class="onboarding-progress-bar">
                <div class="onboarding-progress-fill" style="width: 100%;"></div>
              </div>
              <p class="onboarding-progress-text">–®–∞–≥ 4 –∏–∑ 4</p>
            </div>
            <h2>–í—Å–µ –≥–æ—Ç–æ–≤–æ! üéâ</h2>
            <p class="hint">–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É –∏ –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å</p>
            
            <div class="onboarding-steps">
              <div class="onboarding-step">
                <span class="step-icon">‚úÖ</span>
                <h3>–ó–∞–ø–æ–ª–Ω–∏ –¥–µ—Ç–∞–ª–∏</h3>
                <p>–£–∫–∞–∂–∏ –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∞–Ω–∫–µ—Ç–µ</p>
              </div>
              <div class="onboarding-step">
                <span class="step-icon">üí¨</span>
                <h3>–ù–∞—á–Ω–∏ –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è</h3>
                <p>–°–º–æ—Ç—Ä–∏ –∞–Ω–∫–µ—Ç—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π –ª–∞–π–∫–∏</p>
              </div>
              <div class="onboarding-step">
                <span class="step-icon">üíñ</span>
                <h3>–ù–∞—Ö–æ–¥–∏ –º–µ—Ç—á–∏</h3>
                <p>–ü—Ä–∏ –≤–∑–∞–∏–º–Ω–æ–π —Å–∏–º–ø–∞—Ç–∏–∏ –º—ã —Å–æ–æ–±—â–∏–º</p>
              </div>
            </div>
            
            <button class="primary onboarding-btn" id="finish-onboarding">–°–æ–∑–¥–∞—Ç—å –∞–Ω–∫–µ—Ç—É</button>
          </div>
        </div>
      </div>

      <!-- Profile Page -->
      <div id="profile-page" class="page">
        <h1 id="page-title">–ú–∏–Ω–∏-–∞–Ω–∫–µ—Ç–∞</h1>
        <p class="hint" id="page-hint">
          –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É –ø—Ä—è–º–æ –∏–∑ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
        </p>
        <div class="progress" aria-live="polite" id="progress-container">
          <div
            class="progress-track"
            role="progressbar"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
          >
            <div class="progress-fill" id="progress-fill"></div>
          </div>
          <p class="progress-label" id="progress-label">–ó–∞–ø–æ–ª–Ω–µ–Ω–æ 0%</p>
        </div>
      <form id="profile-form" novalidate>
        <label>
          –ò–º—è
          <input
            type="text"
            name="name"
            required
            minlength="2"
            maxlength="40"
            pattern="^[A-Za-z–ê-–Ø–∞-—è–Å—ë\-\s]+$"
            placeholder="–ê–ª–∏—Å–∞"
            autocomplete="given-name"
          />
          <span class="field-hint">–ù–∞–ø–∏—à–∏ –∏–º—è, –∫–∞–∫ —Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å—Å—è –Ω–æ–≤—ã–º –∑–Ω–∞–∫–æ–º—ã–º.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –í–æ–∑—Ä–∞—Å—Ç
          <input
            type="number"
            name="age"
            min="18"
            max="120"
            required
            placeholder="25"
            inputmode="numeric"
          />
          <span class="field-hint">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç ‚Äî 18 –ª–µ—Ç.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –ü–æ–ª
          <select name="gender" required>
            <option value="male">–ú—É–∂—Å–∫–æ–π</option>
            <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
            <option value="other">–î—Ä—É–≥–æ–µ</option>
          </select>
          <span class="field-hint">–í—ã–±–µ—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª—É—á—à–µ –≤—Å–µ–≥–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–±—è.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –ö–æ–≥–æ –∏—â–µ—à—å
          <select name="preference" required>
            <option value="female">–î–µ–≤—É—à–µ–∫</option>
            <option value="male">–ü–∞—Ä–Ω–µ–π</option>
            <option value="other">–î—Ä—É–≥–∏—Ö</option>
            <option value="any">–ù–µ–≤–∞–∂–Ω–æ</option>
          </select>
          <span class="field-hint">–¢–∞–∫ –º—ã –ø–æ–¥—Å–∫–∞–∂–µ–º, –∫–æ–º—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–≤–æ—é –∞–Ω–∫–µ—Ç—É.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –û —Å–µ–±–µ
          <textarea
            name="bio"
            rows="4"
            maxlength="400"
            placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ —Å–µ–±–µ"
          ></textarea>
          <span class="field-hint">–†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–≤–æ–∏—Ö —É–≤–ª–µ—á–µ–Ω–∏—è—Ö, —Ü–µ–ª—è—Ö –∏ —á—Ç–æ –∏—â–µ—à—å.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –ì–æ—Ä–æ–¥ –∏–ª–∏ —Ä–µ–≥–∏–æ–Ω
          <input
            type="text"
            name="location"
            maxlength="60"
            placeholder="–ú–æ—Å–∫–≤–∞"
            autocomplete="address-level2"
          />
          <span class="field-hint">–ü–æ–º–æ–∂–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –ª—é–¥–µ–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –ò–Ω—Ç–µ—Ä–µ—Å—ã
          <input
            type="text"
            name="interests"
            placeholder="–ú—É–∑—ã–∫–∞, —Å–ø–æ—Ä—Ç, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è"
            maxlength="120"
          />
          <span class="field-hint">–ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø–µ—Ä–µ—á–∏—Å–ª–∏ —Ö–æ–±–±–∏ –∏–ª–∏ –ª—é–±–∏–º—ã–µ –∑–∞–Ω—è—Ç–∏—è.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –¶–µ–ª—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞
          <select name="goal">
            <option value="">–í—ã–±–µ—Ä–∏ —Ü–µ–ª—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</option>
            <option value="serious">–°–µ—Ä—å—ë–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è</option>
            <option value="friendship">–î—Ä—É–∂–±—É</option>
            <option value="networking">–û–±—â–µ–Ω–∏–µ</option>
            <option value="casual">–õ—ë–≥–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏</option>
          </select>
          <span class="field-hint">–ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω(–∞), –æ—Å—Ç–∞–≤—å –ø–æ–ª–µ –ø—É—Å—Ç—ã–º.</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <label>
          –§–æ—Ç–æ
          <div class="photo-upload-container">
            <div id="profile-photo-preview" class="profile-photo-preview">
              <span class="photo-placeholder">üì∑</span>
              <p class="photo-placeholder-text">–ù–∞–∂–º–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</p>
            </div>
            <input
              type="file"
              id="profile-photo-file"
              accept="image/*"
              style="display: none;"
            />
            <input
              type="url"
              name="photo_url"
              placeholder="https://example.com/photo.jpg"
              inputmode="url"
              style="margin-top: 10px;"
            />
          </div>
          <span class="field-hint">–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ –∏–ª–∏ –≤—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ).</span>
          <span class="error-message" aria-live="polite"></span>
        </label>
        <button type="submit" class="primary" id="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        <button type="button" class="danger" id="delete-btn" style="display: none;">–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
      </form>
      <p class="status" id="status"></p>
      <p class="autosave-status" id="autosave-status" aria-live="polite"></p>
      </div>

      <!-- Matches Page -->
      <div id="matches-page" class="page" style="display: none;">
        <h1>–ú–µ—Ç—á–∏ üíï</h1>
        <p class="hint">–ê–Ω–∫–µ—Ç—ã –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Ç–µ–±–µ –ø–æ–¥–æ–π—Ç–∏</p>
        <div id="matches-container" class="matches-container">
          <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
      </div>

      <!-- Settings Page -->
      <div id="settings-page" class="page" style="display: none;">
        <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚öôÔ∏è</h1>
        <div class="settings-container">
          <div class="settings-section">
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ</h3>
            <div class="settings-item">
              <label for="lang-select">
                <span>–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</span>
                <select id="lang-select">
                  <option value="ru" selected>–†—É—Å—Å–∫–∏–π</option>
                  <option value="en">English</option>
                </select>
              </label>
            </div>
          </div>
          
          <div class="settings-section">
            <h3>–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</h3>
            <div class="settings-item">
              <label class="toggle-label">
                <input type="checkbox" id="show-location" checked />
                <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–æ–π –≥–æ—Ä–æ–¥</span>
              </label>
            </div>
            <div class="settings-item">
              <label class="toggle-label">
                <input type="checkbox" id="show-age" checked />
                <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–æ–π –≤–æ–∑—Ä–∞—Å—Ç</span>
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
            <div class="settings-item">
              <label class="toggle-label">
                <input type="checkbox" id="notify-matches" checked />
                <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–µ—Ç—á–∞—Ö</span>
              </label>
            </div>
            <div class="settings-item">
              <label class="toggle-label">
                <input type="checkbox" id="notify-messages" checked />
                <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö</span>
              </label>
            </div>
          </div>

          <div class="settings-section">
            <h3>–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞</h3>
            <div class="settings-item">
              <label for="age-min">
                <span>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç</span>
                <input type="number" id="age-min" min="18" max="120" placeholder="18" />
              </label>
            </div>
            <div class="settings-item">
              <label for="age-max">
                <span>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç</span>
                <input type="number" id="age-max" min="18" max="120" placeholder="120" />
              </label>
            </div>
            <div class="settings-item">
              <label for="max-distance">
                <span>–ú–∞–∫—Å. —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–∫–º)</span>
                <input type="number" id="max-distance" min="1" max="10000" placeholder="–ù–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ" />
              </label>
              <span class="field-hint" style="margin-top: 0.25rem; display: block;">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ</span>
            </div>
          </div>

          <div class="settings-section">
            <h3>–ê–∫–∫–∞—É–Ω—Ç</h3>
            <button class="secondary" id="logout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
          </div>

          <div class="settings-section">
            <h3>–û—Ç–ª–∞–¥–∫–∞</h3>
            <div class="settings-item">
              <label class="toggle-label">
                <input type="checkbox" id="debug-mode" />
                <span>–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (console.log)</span>
              </label>
            </div>
            <button class="secondary" id="clear-data-btn">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</button>
          </div>
        </div>
      </div>
    </main>
    <script src="js/app.js"></script>
  </body>
</html>
