<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="description" content="Dating Mini App - Telegram WebApp">
    <meta name="theme-color" content="#ffffff">
    <title>Dating Mini App</title>
    
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Loading State -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <!-- Onboarding Flow -->
    <div id="onboarding" class="container hidden">
        <!-- Step 1: Welcome -->
        <div id="onboarding-step-1" class="onboarding-step">
            <div class="onboarding-card">
                <h1 class="onboarding-title">Zintra</h1>
                
                <button class="button button-primary" onclick="startProfileCreation()">–ù–∞—á–∞—Ç—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞</button>
                
                <p class="app-version">v<span id="appVersionText">1.1.0</span></p>
            </div>
        </div>
    </div>

    <!-- Profile Form -->
    <div id="profile-form" class="container hidden">
        <div class="info-card">
            <h2>–°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã</h2>
            <form id="profileForm">
                <div class="form-group">
                    <label>–§–æ—Ç–æ * (—Ä–æ–≤–Ω–æ 3 —Ñ–æ—Ç–æ)</label>
                    <div class="photo-slots-container">
                        <label for="photoInput0" class="photo-slot" id="photoSlot0">
                            <div class="photo-slot-content">
                                <svg class="upload-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <p class="photo-slot-text">–§–æ—Ç–æ 1</p>
                            </div>
                            <input type="file" id="photoInput0" accept="image/jpeg,image/jpg,image/png,image/webp" capture="environment" style="display: none;">
                        </label>
                        <label for="photoInput1" class="photo-slot" id="photoSlot1">
                            <div class="photo-slot-content">
                                <svg class="upload-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <p class="photo-slot-text">–§–æ—Ç–æ 2</p>
                            </div>
                            <input type="file" id="photoInput1" accept="image/jpeg,image/jpg,image/png,image/webp" capture="environment" style="display: none;">
                        </label>
                        <label for="photoInput2" class="photo-slot" id="photoSlot2">
                            <div class="photo-slot-content">
                                <svg class="upload-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <p class="photo-slot-text">–§–æ—Ç–æ 3</p>
                            </div>
                            <input type="file" id="photoInput2" accept="image/jpeg,image/jpg,image/png,image/webp" capture="environment" style="display: none;">
                        </label>
                    </div>
                    <p class="photo-counter">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: <span id="photoCount">0</span> / 3</p>
                </div>
                
                <div class="form-group">
                    <label>–ò–º—è *</label>
                    <input type="text" name="name" required minlength="2" maxlength="100" placeholder="–í–∞—à–µ –∏–º—è">
                </div>
                
                <div class="form-group">
                    <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è * (18+)</label>
                    <input type="date" name="birth_date" required>
                </div>
                
                <div class="form-group">
                    <label>–ü–æ–ª *</label>
                    <select name="gender" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                        <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                        <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                        <option value="other">–î—Ä—É–≥–æ–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–ò—â—É *</label>
                    <select name="orientation" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                        <option value="male">–ú—É–∂—á–∏–Ω</option>
                        <option value="female">–ñ–µ–Ω—â–∏–Ω</option>
                        <option value="any">–í—Å–µ—Ö</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–¶–µ–ª—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ *</label>
                    <select name="goal" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ</option>
                        <option value="friendship">–î—Ä—É–∂–±–∞</option>
                        <option value="dating">–°–≤–∏–¥–∞–Ω–∏—è</option>
                        <option value="relationship">–û—Ç–Ω–æ—à–µ–Ω–∏—è</option>
                        <option value="serious">–°–µ—Ä—å—ë–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è</option>
                        <option value="casual">–õ—ë–≥–∫–æ–µ –æ–±—â–µ–Ω–∏–µ</option>
                        <option value="networking">–ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–û —Å–µ–±–µ</label>
                    <textarea name="bio" maxlength="1000" rows="4" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ *</label>
                    <button type="button" class="button button-secondary" id="detectLocationBtn" onclick="detectUserLocation()">
                        üìç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                    </button>
                    <div id="locationStatus" class="location-status hidden"></div>
                    <div id="manualLocationFields" class="manual-location">
                        <label>–ì–æ—Ä–æ–¥ *</label>
                        <input type="text" id="cityInput" name="city" placeholder="–ú–æ—Å–∫–≤–∞" required>
                    </div>
                    <input type="hidden" id="latitude" name="latitude">
                    <input type="hidden" id="longitude" name="longitude">
                </div>
                
                <div id="formError" class="error-message hidden"></div>
                
                <button type="submit" class="button button-primary">–°–æ–∑–¥–∞—Ç—å –∞–Ω–∫–µ—Ç—É</button>
            </form>
        </div>
    </div>

    <!-- Success Screen -->
    <div id="success-screen" class="container hidden">
        <div class="info-card text-center">
            <h2>‚úÖ –ê–Ω–∫–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞!</h2>
            <p class="mt-lg">–í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.</p>
            <div class="placeholder-content">
                <p>üöÄ –°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</p>
                <ul class="info-list">
                    <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –¥—Ä—É–≥–∏—Ö –∞–Ω–∫–µ—Ç</li>
                    <li>–°–∏—Å—Ç–µ–º–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π</li>
                    <li>–û–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Application Script -->
    <script src="js/app.js"></script>
</body>
</html>
