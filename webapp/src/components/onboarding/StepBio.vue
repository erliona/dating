<template>
  <div class="step-bio">
    <div class="step-header">
      <h2>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ</h2>
      <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —á–µ–º-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º</p>
    </div>

    <div class="step-content">
      <div class="form-group">
        <label class="form-label">–ë–∏–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
        <textarea 
          v-model="formData.bio" 
          placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ, —Å–≤–æ–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö, —á—Ç–æ –∏—â–µ—Ç–µ..."
          maxlength="500"
          rows="6"
          class="bio-textarea"
        ></textarea>
        <div class="char-count">
          {{ formData.bio?.length || 0 }}/500
        </div>
      </div>

      <div class="bio-tips">
        <h4>–°–æ–≤–µ—Ç—ã –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –±–∏–æ:</h4>
        <ul>
          <li>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–∏—Ö —É–≤–ª–µ—á–µ–Ω–∏—è—Ö</li>
          <li>–£–ø–æ–º—è–Ω–∏—Ç–µ —á—Ç–æ –∏—â–µ—Ç–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö</li>
          <li>–î–æ–±–∞–≤—å—Ç–µ —á—Ç–æ-—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ —Å–µ–±–µ</li>
          <li>–ò–∑–±–µ–≥–∞–π—Ç–µ –∫–ª–∏—à–µ –∏ –æ–±—â–∏—Ö —Ñ—Ä–∞–∑</li>
        </ul>
      </div>

      <div class="bio-examples">
        <h4>–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –±–∏–æ:</h4>
        <div class="example-bio" @click="useExample(0)">
          "–õ—é–±–ª—é –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–µ—Å—Ç–∞. –ò—â—É —á–µ–ª–æ–≤–µ–∫–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–∏—Ä –≤–º–µ—Å—Ç–µ üåç"
        </div>
        <div class="example-bio" @click="useExample(1)">
          "–§–æ—Ç–æ–≥—Ä–∞—Ñ –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏, –∫–æ—Ñ–µ–º–∞–Ω –ø–æ –ø—Ä–∏–∑–≤–∞–Ω–∏—é. –ò—â—É —Ç–æ–≥–æ, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç —Å–æ –º–Ω–æ–π —É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ—Ñ–µ –∏ –≤–µ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏ ‚òï"
        </div>
        <div class="example-bio" @click="useExample(2)">
          "–£–≤–ª–µ–∫–∞—é—Å—å –π–æ–≥–æ–π –∏ –∑–¥–æ—Ä–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º –∂–∏–∑–Ω–∏. –ò—â—É –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ üßò‚Äç‚ôÄÔ∏è"
        </div>
      </div>
    </div>

    <div class="step-actions">
      <Button 
        variant="outline" 
        size="lg" 
        @click="handleBack"
        fullWidth
      >
        –ù–∞–∑–∞–¥
      </Button>
      <Button 
        variant="primary" 
        size="lg" 
        @click="handleNext"
        fullWidth
      >
        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
      </Button>
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import Button from '../common/Button.vue'

const props = defineProps({
  modelValue: {
    type: Object,
    required: true
  }
})

const emit = defineEmits(['update:modelValue', 'next', 'back'])

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å computed –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –ø—Ä–∏–≤—è–∑–∫–∏
const formData = computed({
  get: () => props.modelValue,
  set: (value) => emit('update:modelValue', value)
})

const bioExamples = [
  "–õ—é–±–ª—é –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–µ—Å—Ç–∞. –ò—â—É —á–µ–ª–æ–≤–µ–∫–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–∏—Ä –≤–º–µ—Å—Ç–µ üåç",
  "–§–æ—Ç–æ–≥—Ä–∞—Ñ –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏, –∫–æ—Ñ–µ–º–∞–Ω –ø–æ –ø—Ä–∏–∑–≤–∞–Ω–∏—é. –ò—â—É —Ç–æ–≥–æ, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç —Å–æ –º–Ω–æ–π —É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ—Ñ–µ –∏ –≤–µ—á–µ—Ä–Ω–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏ ‚òï",
  "–£–≤–ª–µ–∫–∞—é—Å—å –π–æ–≥–æ–π –∏ –∑–¥–æ—Ä–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º –∂–∏–∑–Ω–∏. –ò—â—É –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ üßò‚Äç‚ôÄÔ∏è"
]

const useExample = (index) => {
  formData.value.bio = bioExamples[index]
}

const handleNext = () => {
  emit('next')
}

const handleBack = () => {
  emit('back')
}
</script>

<style scoped>
.step-bio {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: var(--spacing-md);
}

.step-header {
  text-align: center;
  margin-bottom: var(--spacing-md);
}

.step-header h2 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  margin: 0 0 var(--spacing-sm) 0;
  color: var(--text-primary);
}

.step-header p {
  font-size: var(--font-size-md);
  color: var(--text-secondary);
  margin: 0;
}

.step-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.form-label {
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-semibold);
  color: var(--text-primary);
}

.bio-textarea {
  width: 100%;
  padding: var(--spacing-md);
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius);
  font-size: var(--font-size-md);
  font-family: inherit;
  line-height: 1.5;
  resize: vertical;
  min-height: 120px;
  transition: border-color 0.2s ease;
}

.bio-textarea:focus {
  outline: none;
  border-color: var(--primary-color);
}

.char-count {
  text-align: right;
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
}

.bio-tips {
  background-color: var(--bg-secondary);
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
}

.bio-tips h4 {
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-semibold);
  margin: 0 0 var(--spacing-md) 0;
  color: var(--text-primary);
}

.bio-tips ul {
  margin: 0;
  padding-left: var(--spacing-md);
}

.bio-tips li {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  margin-bottom: var(--spacing-xs);
}

.bio-tips li:last-child {
  margin-bottom: 0;
}

.bio-examples {
  background-color: var(--bg-secondary);
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
}

.bio-examples h4 {
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-semibold);
  margin: 0 0 var(--spacing-md) 0;
  color: var(--text-primary);
}

.example-bio {
  background-color: white;
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  margin-bottom: var(--spacing-sm);
}

.example-bio:hover {
  border-color: var(--primary-color);
  background-color: rgba(var(--primary-rgb), 0.05);
}

.example-bio:last-child {
  margin-bottom: 0;
}

.step-actions {
  display: flex;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
  padding-top: var(--spacing-md);
  border-top: 1px solid var(--border-color);
}

.step-actions .btn {
  flex: 1;
}
</style>